<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1A1A1A" />
    <meta name="description" content="Prism Analytics Engine by Precise Digital - Transforming music industry data into actionable insights for independent artists and labels" />
    <meta name="keywords" content="prism, analytics, music industry, lead generation, youtube integration, precise digital, independent artists, music data" />
    <meta name="author" content="Precise Digital" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Prism Analytics Engine - Music Industry Lead Generation" />
    <meta property="og:description" content="Transform music industry data into actionable insights with YouTube integration and comprehensive lead scoring" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://precise.digital" />
    <meta property="og:site_name" content="Prism Analytics Engine" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Prism Analytics Engine" />
    <meta name="twitter:description" content="Music industry lead generation with YouTube integration" />
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/favicon.ico" />
    
    <!-- Web Manifest -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- Preconnect to External Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Prism Brand Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Page Title -->
    <title>Prism Analytics Engine - Transforming Music Data into Actionable Insights</title>
    
    <!-- Prism Brand CSS Variables -->
    <style>
        :root {
            --prism-black: #1A1A1A;
            --prism-red: #E50914;
            --prism-charcoal-gray: #333333;
            --prism-white: #FFFFFF;
            --prism-light-gray: #F8F9FA;
            --prism-medium-gray: #666666;
        }
        
        /* Loading Screen Styles */
        .prism-loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--prism-white);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }
        
        .prism-logo-loading {
            width: 120px;
            height: 80px;
            margin-bottom: 2rem;
            animation: prism-pulse 2s ease-in-out infinite;
        }
        
        /* Triangular Prism Loading Animation */
        .prism-triangular-loader {
            width: 60px;
            height: 60px;
            margin-bottom: 1rem;
            position: relative;
            animation: prism-rotate 2s linear infinite;
        }
        
        .prism-triangular-loader svg {
            width: 100%;
            height: 100%;
        }
        
        .prism-wordmark-loading {
            font-size: 2rem;
            font-weight: 400;
            letter-spacing: 0.3em;
            color: var(--prism-black);
            margin-bottom: 1rem;
        }
        
        .prism-subtitle-loading {
            font-size: 0.875rem;
            color: var(--prism-medium-gray);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 2rem;
        }
        
        .prism-progress-dots {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .prism-progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--prism-red);
            animation: prism-dot-bounce 1.4s ease-in-out infinite both;
        }
        
        .prism-progress-dot:nth-child(1) { animation-delay: -0.32s; }
        .prism-progress-dot:nth-child(2) { animation-delay: -0.16s; }
        .prism-progress-dot:nth-child(3) { animation-delay: 0s; }
        
        @keyframes prism-pulse {
            0%, 100% { 
                opacity: 1; 
                transform: scale(1); 
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.05); 
            }
        }
        
        @keyframes prism-rotate {
            0% { 
                transform: rotateY(0deg); 
            }
            100% { 
                transform: rotateY(360deg); 
            }
        }
        
        @keyframes prism-dot-bounce {
            0%, 80%, 100% {
                transform: scale(0);
            }
            40% {
                transform: scale(1);
            }
        }
        
        /* Hide loading screen when React app loads */
        .prism-app-loaded .prism-loading-screen {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }
        
        /* No JavaScript fallback */
        .prism-no-js {
            display: none;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: var(--prism-white);
            color: var(--prism-black);
        }
        
        #root {
            min-height: 100vh;
        }
        
        /* Loading progress indicator */
        .prism-loading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--prism-light-gray);
            z-index: 10000;
        }
        
        .prism-loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--prism-red), #B8070F);
            width: 0%;
            transition: width 0.3s ease;
            animation: prism-progress-shimmer 2s infinite;
        }
        
        @keyframes prism-progress-shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body>
    <!-- Loading Progress Bar -->
    <div class="prism-loading-progress" id="prism-progress">
        <div class="prism-loading-progress-bar" id="prism-progress-bar"></div>
    </div>

    <!-- Prism Loading Screen with Triangular Prism -->
    <div class="prism-loading-screen" id="prism-loading">
        <!-- Enhanced Prism Logo with Triangular Prism Animation -->
        <svg class="prism-logo-loading" viewBox="0 0 120 80" xmlns="http://www.w3.org/2000/svg">
            <!-- Musical notation lines - representing raw music data -->
            <g opacity="0.7">
                <line x1="5" y1="20" x2="30" y2="20" stroke="#1A1A1A" stroke-width="1"/>
                <line x1="5" y1="25" x2="30" y2="25" stroke="#1A1A1A" stroke-width="1"/>
                <line x1="5" y1="30" x2="30" y2="30" stroke="#1A1A1A" stroke-width="1"/>
                <line x1="5" y1="35" x2="30" y2="35" stroke="#1A1A1A" stroke-width="1"/>
                <circle cx="10" cy="22.5" r="1.5" fill="#1A1A1A"/>
                <circle cx="20" cy="27.5" r="1.5" fill="#1A1A1A"/>
                <circle cx="25" cy="32.5" r="1.5" fill="#1A1A1A"/>
            </g>
            
            <!-- 3D Triangular Prism - Main Element -->
            <g class="prism-triangular-loader">
                <!-- Front face - main triangle -->
                <path 
                    d="M45 55 L60 25 L75 55 Z" 
                    fill="#1A1A1A" 
                    stroke="#E50914" 
                    stroke-width="2"
                />
                
                <!-- Back face - offset triangle for 3D effect -->
                <path 
                    d="M52 50 L67 20 L82 50 Z" 
                    fill="#333333" 
                    stroke="#E50914" 
                    stroke-width="2"
                />
                
                <!-- Connecting edges for 3D depth -->
                <line x1="45" y1="55" x2="52" y2="50" stroke="#E50914" stroke-width="2"/>
                <line x1="60" y1="25" x2="67" y2="20" stroke="#E50914" stroke-width="2"/>
                <line x1="75" y1="55" x2="82" y2="50" stroke="#E50914" stroke-width="2"/>
                
                <!-- Red accent line through center -->
                <line x1="55" y1="40" x2="72" y2="35" stroke="#E50914" stroke-width="3">
                    <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite"/>
                </line>
            </g>
            
            <!-- Sin wave output - representing refined insights -->
            <g opacity="0.8">
                <path 
                    d="M90 30 Q95 25 100 30 Q105 35 110 30 Q115 25 120 30" 
                    stroke="#E50914" 
                    stroke-width="2" 
                    fill="none"
                >
                    <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite"/>
                </path>
                <path 
                    d="M90 40 Q95 35 100 40 Q105 45 110 40 Q115 35 120 40" 
                    stroke="#E50914" 
                    stroke-width="2" 
                    fill="none"
                >
                    <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
                </path>
                <path 
                    d="M90 50 Q95 45 100 50 Q105 55 110 50 Q115 45 120 50" 
                    stroke="#E50914" 
                    stroke-width="2" 
                    fill="none"
                >
                    <animate attributeName="opacity" values="0.6;1;0.6" dur="1.8s" repeatCount="indefinite"/>
                </path>
            </g>
        </svg>
        
        <div class="prism-wordmark-loading">P R I S M</div>
        <div class="prism-subtitle-loading">Analytics Engine</div>
        
        <!-- Loading Animation Dots -->
        <div class="prism-progress-dots">
            <div class="prism-progress-dot"></div>
            <div class="prism-progress-dot"></div>
            <div class="prism-progress-dot"></div>
        </div>
        
        <p style="margin-top: 1rem; color: var(--prism-medium-gray); font-size: 0.75rem; text-align: center;">
            Transforming music data into actionable insights
        </p>
    </div>
    
    <!-- No JavaScript Fallback -->
    <noscript>
        <div class="prism-no-js" style="display: block; padding: 2rem; text-align: center; background: var(--prism-light-gray);">
            <h1 style="color: var(--prism-black); font-size: 2rem; margin-bottom: 1rem; letter-spacing: 0.3em;">P R I S M</h1>
            <h2 style="color: var(--prism-red); font-size: 1.25rem; margin-bottom: 1rem;">Analytics Engine</h2>
            <p style="color: var(--prism-medium-gray); margin-bottom: 1rem;">
                You need to enable JavaScript to run the Prism Analytics Engine.
            </p>
            <p style="color: var(--prism-charcoal-gray); font-size: 0.875rem;">
                Prism transforms music industry data into actionable insights for independent artists and labels.
            </p>
        </div>
    </noscript>
    
    <!-- React App Root -->
    <div id="root"></div>
    
    <!-- Prism Analytics Script -->
    <script>
        // Progressive loading with realistic progress
        let progress = 0;
        const progressBar = document.getElementById('prism-progress-bar');
        const loadingScreen = document.getElementById('prism-loading');
        
        // Simulate realistic loading progress
        function updateProgress() {
            if (progress < 90) {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                
                if (progressBar) {
                    progressBar.style.width = progress + '%';
                }
                
                setTimeout(updateProgress, 100 + Math.random() * 200);
            }
        }
        
        // Start progress animation
        updateProgress();
        
        // Hide loading screen when React app mounts
        window.addEventListener('load', function() {
            // Complete the progress bar
            if (progressBar) {
                progressBar.style.width = '100%';
            }
            
            setTimeout(function() {
                const body = document.body;
                
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.transform = 'scale(0.95)';
                    loadingScreen.style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out';
                    
                    setTimeout(function() {
                        body.classList.add('prism-app-loaded');
                        
                        // Hide progress bar
                        const progressElement = document.getElementById('prism-progress');
                        if (progressElement) {
                            progressElement.style.opacity = '0';
                            setTimeout(() => progressElement.remove(), 500);
                        }
                    }, 500);
                }
            }, 800); // Show loading for at least 800ms for branding impact
        });
        
        // Service Worker Registration (for future PWA features)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/service-worker.js')
                .then(function(registration) {
                    console.log('Prism SW registered: ', registration);
                })
                .catch(function(registrationError) {
                    console.log('Prism SW registration failed: ', registrationError);
                });
            });
        }
        
        // Global error handling
        window.addEventListener('error', function(event) {
            console.error('Prism Analytics Engine Error:', event.error);
            
            // Hide loading screen on error
            if (loadingScreen) {
                loadingScreen.innerHTML = `
                    <div style="text-align: center; color: var(--prism-red);">
                        <h2 style="margin-bottom: 1rem;">Loading Error</h2>
                        <p>Please refresh the page to try again.</p>
                        <button onclick="location.reload()" style="
                            background: var(--prism-red); 
                            color: white; 
                            border: none; 
                            padding: 0.5rem 1rem; 
                            border-radius: 0.25rem; 
                            margin-top: 1rem; 
                            cursor: pointer;
                        ">Refresh Page</button>
                    </div>
                `;
            }
        });
        
        // Global analytics tracking (placeholder for future implementation)
        window.prismAnalytics = {
            track: function(event, properties) {
                if (window.gtag) {
                    window.gtag('event', event, properties);
                }
                console.log('Prism Analytics:', event, properties);
            },
            
            // Track page load performance
            trackPerformance: function() {
                if (window.performance && window.performance.timing) {
                    const timing = window.performance.timing;
                    const loadTime = timing.loadEventEnd - timing.navigationStart;
                    
                    this.track('page_load_time', {
                        load_time: loadTime,
                        dom_ready: timing.domContentLoadedEventEnd - timing.navigationStart,
                        first_paint: timing.responseStart - timing.navigationStart
                    });
                }
            }
        };
        
        // Track performance when page loads
        window.addEventListener('load', function() {
            setTimeout(() => {
                window.prismAnalytics.trackPerformance();
            }, 1000);
        });
        
        // Prefetch critical resources
        function prefetchResources() {
            const criticalResources = [
                '/api/status',
                '/api/dashboard/stats'
            ];
            
            criticalResources.forEach(url => {
                const link = document.createElement('link');
                link.rel = 'prefetch';
                link.href = url;
                document.head.appendChild(link);
            });
        }
        
        // Start prefetching after initial load
        setTimeout(prefetchResources, 2000);
    </script>
</body>
</html>